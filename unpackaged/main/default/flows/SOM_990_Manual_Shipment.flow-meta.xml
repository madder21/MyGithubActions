<?xml version="1.0" encoding="UTF-8"?>
<Flow xmlns="http://soap.sforce.com/2006/04/metadata" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <actionCalls>
        <name>Create_Shipments</name>
        <label>Create Shipments</label>
        <locationX>585</locationX>
        <locationY>1261</locationY>
        <actionName>SOM_CreateShipment</actionName>
        <actionType>apex</actionType>
        <flowTransactionModel>Automatic</flowTransactionModel>
        <inputParameters>
            <name>wrShips</name>
            <value>
                <elementReference>C_Wr_shipments</elementReference>
            </value>
        </inputParameters>
    </actionCalls>
    <actionCalls>
        <name>Shipped_Quantity_per_FOLI_Action</name>
        <label>Shipped Quantity per FOLI Action</label>
        <locationX>1181</locationX>
        <locationY>758</locationY>
        <actionName>SOM_ShipmentPerFoliAction</actionName>
        <actionType>apex</actionType>
        <connector>
            <targetReference>Select_FOLI_to_Ship</targetReference>
        </connector>
        <flowTransactionModel>Automatic</flowTransactionModel>
        <inputParameters>
            <name>foLineItemsIds</name>
            <value>
                <elementReference>C_FOLIids</elementReference>
            </value>
        </inputParameters>
        <outputParameters>
            <assignToReference>C_Wr_ShippedperFOLI</assignToReference>
            <name>output</name>
        </outputParameters>
    </actionCalls>
    <actionCalls>
        <name>Translate_Wr</name>
        <label>Translate Wr</label>
        <locationX>588</locationX>
        <locationY>920</locationY>
        <actionName>SOM_TranslateShipment</actionName>
        <actionType>apex</actionType>
        <connector>
            <targetReference>Validation</targetReference>
        </connector>
        <flowTransactionModel>Automatic</flowTransactionModel>
        <inputParameters>
            <name>inputCollection</name>
            <value>
                <elementReference>C_ShipTranslation</elementReference>
            </value>
        </inputParameters>
        <outputParameters>
            <assignToReference>V_translatedShip</assignToReference>
            <name>outputString</name>
        </outputParameters>
    </actionCalls>
    <actionCalls>
        <name>Validate_SerialNumbers</name>
        <label>Validate SerialNumbers</label>
        <locationX>244</locationX>
        <locationY>357</locationY>
        <actionName>SOM_SerialNumbersValidation</actionName>
        <actionType>apex</actionType>
        <connector>
            <targetReference>Check_Error_Message</targetReference>
        </connector>
        <flowTransactionModel>Automatic</flowTransactionModel>
        <inputParameters>
            <name>qty</name>
            <value>
                <elementReference>Quantity.value</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>serialNumbers</name>
            <value>
                <elementReference>Serial_Number</elementReference>
            </value>
        </inputParameters>
        <outputParameters>
            <assignToReference>V_errorSerialNumbers</assignToReference>
            <name>output</name>
        </outputParameters>
    </actionCalls>
    <apiVersion>55.0</apiVersion>
    <assignments>
        <name>Assign_Id_to_Collection</name>
        <label>Assign Id to Collection</label>
        <locationX>1388</locationX>
        <locationY>467</locationY>
        <assignmentItems>
            <assignToReference>C_FOLIids</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>Store_FOLI_Ids.Id</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Store_FOLI_Ids</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_isSerialized</name>
        <label>Assign isSerialized</label>
        <locationX>499</locationX>
        <locationY>750</locationY>
        <assignmentItems>
            <assignToReference>displaySerialNumber</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>L10_Over_FOLI_Selected.isSerialized</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>V_errorSerialNumbers</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue/>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>FOLI_to_Ship</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Translation_Wrapper</name>
        <label>Assign Translation Wrapper</label>
        <locationX>580</locationX>
        <locationY>141</locationY>
        <assignmentItems>
            <assignToReference>V_ShipTranslation.foliNumber</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>L10_Over_FOLI_Selected.foliName</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>V_ShipTranslation.sku</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>L10_Over_FOLI_Selected.productSKU</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>V_ShipTranslation.quantity</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Quantity.value</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>V_ShipTranslation.serialNumber</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Serial_Number</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>V_ShipTranslation.tracking</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Tracking_Number</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>V_ShipTranslation.dispatchDate</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>DispatchDate</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>V_ShipTranslation.deliveryMethod</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Delivery_Method</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>C_ShipTranslation</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>V_ShipTranslation</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>L10_Over_FOLI_Selected</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Wr_Shipment_ShipmentItems</name>
        <label>Assign Wr Shipment ShipmentItems</label>
        <locationX>51</locationX>
        <locationY>149</locationY>
        <assignmentItems>
            <assignToReference>V_Wr_Shipment.shipmentExternalId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Shipment_External_Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>V_Wr_Shipment.trackingNumber</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Tracking_Number</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>V_Wr_Shipment.dispatchDate</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>DispatchDate</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>V_Wr_Shipment.quantity</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Quantity.value</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>V_Wr_Shipment.foliId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>L10_Over_FOLI_Selected.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>V_Wr_Shipment.serialNumber</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Serial_Number</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>V_Wr_Shipment.orderMethodId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Delivery_Method</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>V_Wr_Shipment.foId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_FO_Record.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>V_Wr_Shipment.productId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>L10_Over_FOLI_Selected.productId</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>V_Wr_Shipment.osItemId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>L10_Over_FOLI_Selected.osItemId</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>V_Wr_Shipment.timezone</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>TimeZone</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>C_Wr_shipments</assignToReference>
            <operator>AddAtStart</operator>
            <value>
                <elementReference>V_Wr_Shipment</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Assign_Translation_Wrapper</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>error_message</name>
        <label>error message</label>
        <locationX>955</locationX>
        <locationY>543</locationY>
        <assignmentItems>
            <assignToReference>boolean_check_error</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Select_FOLI_to_Ship</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Selected_FOLIS_count</name>
        <label>Selected FOLIS count</label>
        <locationX>1192</locationX>
        <locationY>548</locationY>
        <assignmentItems>
            <assignToReference>V_SelectedLinesCount</assignToReference>
            <operator>AssignCount</operator>
            <value>
                <elementReference>C_SelectedFOLIS</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>check_selection_of_FOLI</targetReference>
        </connector>
    </assignments>
    <choices>
        <name>ASC</name>
        <choiceText>ASC</choiceText>
        <dataType>String</dataType>
        <value>
            <stringValue>ASC</stringValue>
        </value>
    </choices>
    <constants>
        <name>TESTg</name>
        <dataType>Boolean</dataType>
        <value>
            <booleanValue>true</booleanValue>
        </value>
    </constants>
    <constants>
        <name>True</name>
        <dataType>String</dataType>
        <value>
            <stringValue>true</stringValue>
        </value>
    </constants>
    <decisions>
        <name>Check_Error_Message</name>
        <label>Check Error Message</label>
        <locationX>461</locationX>
        <locationY>322</locationY>
        <defaultConnector>
            <targetReference>Assign_Wr_Shipment_ShipmentItems</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Empty</defaultConnectorLabel>
        <rules>
            <name>Not_Empty</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>V_errorSerialNumbers</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue/>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>V_errorSerialNumbers</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>FOLI_to_Ship</targetReference>
            </connector>
            <label>Not Empty</label>
        </rules>
    </decisions>
    <decisions>
        <name>check_selection_of_FOLI</name>
        <label>check selection of FOLI</label>
        <locationX>943</locationX>
        <locationY>351</locationY>
        <defaultConnector>
            <targetReference>error_message</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>selected_FOLI</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>C_SelectedFOLIS</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>V_SelectedLinesCount</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <numberValue>0.0</numberValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>L10_Over_FOLI_Selected</targetReference>
            </connector>
            <label>selected FOLI</label>
        </rules>
    </decisions>
    <decisions>
        <name>is_Serialized</name>
        <label>is Serialized</label>
        <locationX>50</locationX>
        <locationY>485</locationY>
        <defaultConnector>
            <targetReference>Assign_Wr_Shipment_ShipmentItems</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Yes</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>displaySerialNumber</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Validate_SerialNumbers</targetReference>
            </connector>
            <label>Yes</label>
        </rules>
    </decisions>
    <dynamicChoiceSets>
        <name>CS_ODMPicklist</name>
        <collectionReference>get_ODMs</collectionReference>
        <dataType>String</dataType>
        <displayField>Name</displayField>
        <object>OrderDeliveryMethod</object>
        <valueField>Id</valueField>
    </dynamicChoiceSets>
    <dynamicChoiceSets>
        <name>Picklist_User_TimeZone</name>
        <dataType>Picklist</dataType>
        <displayField xsi:nil="true"/>
        <object xsi:nil="true"/>
        <picklistField>TimeZoneSidKey</picklistField>
        <picklistObject>User</picklistObject>
    </dynamicChoiceSets>
    <formulas>
        <name>FX_DispatchDateDefault</name>
        <dataType>DateTime</dataType>
        <expression>IF(ISBLANK({!V_Wr_Shipment.dispatchDate}),{!$Flow.CurrentDateTime},{!V_Wr_Shipment.dispatchDate})</expression>
    </formulas>
    <formulas>
        <name>FX_ODMdefault</name>
        <dataType>String</dataType>
        <expression>IF(ISBLANK({!V_Wr_Shipment.orderMethodId}), {!Get_FO_Record.DeliveryMethod.Id} , {!V_Wr_Shipment.orderMethodId})</expression>
    </formulas>
    <formulas>
        <name>FX_TimeZoneDefault</name>
        <dataType>String</dataType>
        <expression>IF(ISBLANK({!V_Wr_Shipment.timezone}),TEXT({!$User.TimeZoneSidKey}),{!V_Wr_Shipment.timezone})</expression>
    </formulas>
    <interviewLabel>SOM 990 Manual Shipment {!$Flow.CurrentDateTime}</interviewLabel>
    <label>SOM 990 Manual Shipment</label>
    <loops>
        <name>L10_Over_FOLI_Selected</name>
        <label>L10 Over FOLI Selected</label>
        <locationX>581</locationX>
        <locationY>342</locationY>
        <collectionReference>C_SelectedFOLIS</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Assign_isSerialized</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Translate_Wr</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <name>Store_FOLI_Ids</name>
        <label>Store FOLI Ids</label>
        <locationX>1396</locationX>
        <locationY>750</locationY>
        <collectionReference>Get_FOLI</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Assign_Id_to_Collection</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Shipped_Quantity_per_FOLI_Action</targetReference>
        </noMoreValuesConnector>
    </loops>
    <processMetadataValues>
        <name>BuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>CanvasMode</name>
        <value>
            <stringValue>FREE_FORM_CANVAS</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>OriginBuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processType>Flow</processType>
    <recordLookups>
        <name>Get_FO_Record</name>
        <label>Get FO Record</label>
        <locationX>1850</locationX>
        <locationY>549</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>get_ODMs</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>FulfillmentOrder</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_FOLI</name>
        <label>Get FOLI</label>
        <locationX>1615</locationX>
        <locationY>733</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Store_FOLI_Ids</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>FulfillmentOrderId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </filters>
        <filters>
            <field>Type</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Order Product</stringValue>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>FulfillmentOrderLineItem</object>
        <sortField>Id</sortField>
        <sortOrder>Desc</sortOrder>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>get_ODMs</name>
        <label>get ODMs</label>
        <locationX>1848</locationX>
        <locationY>749</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Get_FOLI</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Country__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Get_FO_Record.DeliveryMethod.Country__c</elementReference>
            </value>
        </filters>
        <filters>
            <field>Delivery_Type__c</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Home Delivery</stringValue>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>OrderDeliveryMethod</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <screens>
        <name>FOLI_to_Ship</name>
        <label>FOLI to Ship</label>
        <locationX>194</locationX>
        <locationY>750</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <connector>
            <targetReference>is_Serialized</targetReference>
        </connector>
        <fields>
            <name>FOLI</name>
            <fieldText>&lt;p&gt;&lt;strong&gt;Order Summary Number : &lt;/strong&gt;{!Get_FO_Record.OrderSummary.OrderNumber}&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;Fulfillment Order Number : &lt;/strong&gt;{!Get_FO_Record.FulfillmentOrderNumber}&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;Fulfillment Line Item Number : &lt;/strong&gt;{!L10_Over_FOLI_Selected.foliName}&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;SKU : &lt;/strong&gt;{!L10_Over_FOLI_Selected.productSKU}&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;Description : &lt;/strong&gt;{!L10_Over_FOLI_Selected.description}&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <fields>
            <name>Quantity</name>
            <extensionName>flowruntime:slider</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>label</name>
                <value>
                    <stringValue>Quantity</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>max</name>
                <value>
                    <elementReference>L10_Over_FOLI_Selected.qtyAvailableToShip</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>size</name>
                <value>
                    <stringValue>small</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>step</name>
                <value>
                    <numberValue>1.0</numberValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>min</name>
                <value>
                    <numberValue>1.0</numberValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>value</name>
                <value>
                    <numberValue>1.0</numberValue>
                </value>
            </inputParameters>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <storeOutputAutomatically>true</storeOutputAutomatically>
        </fields>
        <fields>
            <name>FOLI_to_Ship_Section1</name>
            <fieldType>RegionContainer</fieldType>
            <fields>
                <name>FOLI_to_Ship_Section1_Column1</name>
                <fieldType>Region</fieldType>
                <fields>
                    <name>Serial_Number</name>
                    <dataType>String</dataType>
                    <fieldText>Serial Number</fieldText>
                    <fieldType>InputField</fieldType>
                    <isRequired>true</isRequired>
                    <visibilityRule>
                        <conditionLogic>and</conditionLogic>
                        <conditions>
                            <leftValueReference>displaySerialNumber</leftValueReference>
                            <operator>EqualTo</operator>
                            <rightValue>
                                <booleanValue>true</booleanValue>
                            </rightValue>
                        </conditions>
                    </visibilityRule>
                </fields>
                <fields>
                    <name>ErrorSerial</name>
                    <fieldText>&lt;p&gt;&lt;span style=&quot;color: rgb(244, 9, 9); font-size: 11px;&quot;&gt;{!V_errorSerialNumbers}&lt;/span&gt;&lt;/p&gt;</fieldText>
                    <fieldType>DisplayText</fieldType>
                </fields>
                <inputParameters>
                    <name>width</name>
                    <value>
                        <stringValue>6</stringValue>
                    </value>
                </inputParameters>
                <isRequired>false</isRequired>
            </fields>
            <fields>
                <name>FOLI_to_Ship_Section1_Column2</name>
                <fieldType>Region</fieldType>
                <inputParameters>
                    <name>width</name>
                    <value>
                        <stringValue>6</stringValue>
                    </value>
                </inputParameters>
                <isRequired>false</isRequired>
            </fields>
            <isRequired>false</isRequired>
        </fields>
        <fields>
            <name>FOLI_to_Ship_Section2</name>
            <fieldType>RegionContainer</fieldType>
            <fields>
                <name>FOLI_to_Ship_Section2_Column1</name>
                <fieldType>Region</fieldType>
                <fields>
                    <name>Shipment_External_Id</name>
                    <dataType>String</dataType>
                    <defaultValue>
                        <elementReference>V_Wr_Shipment.shipmentExternalId</elementReference>
                    </defaultValue>
                    <fieldText>Warehouse reference</fieldText>
                    <fieldType>InputField</fieldType>
                    <isRequired>true</isRequired>
                </fields>
                <inputParameters>
                    <name>width</name>
                    <value>
                        <stringValue>6</stringValue>
                    </value>
                </inputParameters>
                <isRequired>false</isRequired>
            </fields>
            <fields>
                <name>FOLI_to_Ship_Section2_Column2</name>
                <fieldType>Region</fieldType>
                <inputParameters>
                    <name>width</name>
                    <value>
                        <stringValue>6</stringValue>
                    </value>
                </inputParameters>
                <isRequired>false</isRequired>
            </fields>
            <isRequired>false</isRequired>
        </fields>
        <fields>
            <name>FOLI_to_Ship_Section3</name>
            <fieldType>RegionContainer</fieldType>
            <fields>
                <name>FOLI_to_Ship_Section3_Column1</name>
                <fieldType>Region</fieldType>
                <fields>
                    <name>Tracking_Number</name>
                    <dataType>String</dataType>
                    <defaultValue>
                        <elementReference>V_Wr_Shipment.trackingNumber</elementReference>
                    </defaultValue>
                    <fieldText>Tracking Number</fieldText>
                    <fieldType>InputField</fieldType>
                    <isRequired>true</isRequired>
                </fields>
                <inputParameters>
                    <name>width</name>
                    <value>
                        <stringValue>6</stringValue>
                    </value>
                </inputParameters>
                <isRequired>false</isRequired>
            </fields>
            <fields>
                <name>FOLI_to_Ship_Section3_Column2</name>
                <fieldType>Region</fieldType>
                <inputParameters>
                    <name>width</name>
                    <value>
                        <stringValue>6</stringValue>
                    </value>
                </inputParameters>
                <isRequired>false</isRequired>
            </fields>
            <isRequired>false</isRequired>
        </fields>
        <fields>
            <name>FOLI_to_Ship_Section4</name>
            <fieldType>RegionContainer</fieldType>
            <fields>
                <name>FOLI_to_Ship_Section4_Column1</name>
                <fieldType>Region</fieldType>
                <fields>
                    <name>DispatchDate</name>
                    <dataType>DateTime</dataType>
                    <defaultValue>
                        <elementReference>FX_DispatchDateDefault</elementReference>
                    </defaultValue>
                    <fieldText>Dispatch Date</fieldText>
                    <fieldType>InputField</fieldType>
                    <isRequired>true</isRequired>
                </fields>
                <inputParameters>
                    <name>width</name>
                    <value>
                        <stringValue>6</stringValue>
                    </value>
                </inputParameters>
                <isRequired>false</isRequired>
            </fields>
            <fields>
                <name>FOLI_to_Ship_Section4_Column2</name>
                <fieldType>Region</fieldType>
                <fields>
                    <name>TimeZone</name>
                    <choiceReferences>Picklist_User_TimeZone</choiceReferences>
                    <dataType>String</dataType>
                    <defaultValue>
                        <elementReference>FX_TimeZoneDefault</elementReference>
                    </defaultValue>
                    <fieldText>Timezone</fieldText>
                    <fieldType>DropdownBox</fieldType>
                    <isRequired>false</isRequired>
                </fields>
                <inputParameters>
                    <name>width</name>
                    <value>
                        <stringValue>6</stringValue>
                    </value>
                </inputParameters>
                <isRequired>false</isRequired>
            </fields>
            <isRequired>false</isRequired>
        </fields>
        <fields>
            <name>FOLI_to_Ship_Section5</name>
            <fieldType>RegionContainer</fieldType>
            <fields>
                <name>FOLI_to_Ship_Section5_Column1</name>
                <fieldType>Region</fieldType>
                <fields>
                    <name>Delivery_Method</name>
                    <choiceReferences>CS_ODMPicklist</choiceReferences>
                    <dataType>String</dataType>
                    <defaultValue>
                        <elementReference>FX_ODMdefault</elementReference>
                    </defaultValue>
                    <fieldText>Delivery Method</fieldText>
                    <fieldType>DropdownBox</fieldType>
                    <isRequired>true</isRequired>
                </fields>
                <inputParameters>
                    <name>width</name>
                    <value>
                        <stringValue>6</stringValue>
                    </value>
                </inputParameters>
                <isRequired>false</isRequired>
            </fields>
            <fields>
                <name>FOLI_to_Ship_Section5_Column2</name>
                <fieldType>Region</fieldType>
                <inputParameters>
                    <name>width</name>
                    <value>
                        <stringValue>6</stringValue>
                    </value>
                </inputParameters>
                <isRequired>false</isRequired>
            </fields>
            <isRequired>false</isRequired>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>Select_FOLI_to_Ship</name>
        <label>Select FOLI to Ship</label>
        <locationX>957</locationX>
        <locationY>751</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <connector>
            <targetReference>Selected_FOLIS_count</targetReference>
        </connector>
        <fields>
            <name>Info</name>
            <fieldText>&lt;p style=&quot;text-align: center;&quot;&gt;&lt;strong style=&quot;font-size: 16px;&quot;&gt;Select Fulfillment Line Items To Ship&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;Order Summary Number :&lt;/strong&gt; {!Get_FO_Record.OrderSummary.OrderNumber}&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;Fulfillment Order Number : &lt;/strong&gt;{!Get_FO_Record.FulfillmentOrderNumber}&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <fields>
            <name>LWCfolisToShip</name>
            <extensionName>c:somLwcDisplayFoliAvailableToShip</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>qtyShipped</name>
                <value>
                    <elementReference>C_Wr_ShippedperFOLI</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>folisToShip</name>
                <value>
                    <elementReference>C_SelectedFOLIS</elementReference>
                </value>
            </inputParameters>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <outputParameters>
                <assignToReference>C_SelectedFOLIS</assignToReference>
                <name>folisToShip</name>
            </outputParameters>
        </fields>
        <fields>
            <name>error_message_text</name>
            <fieldText>&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color: rgb(195, 30, 35); font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Roboto, Oxygen, Ubuntu, &amp;quot;Fira Sans&amp;quot;, &amp;quot;Droid Sans&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, sans-serif; font-size: 14px; background-color: rgb(235, 236, 240);&quot;&gt; At least one item should be selected to continue&lt;/span&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
            <visibilityRule>
                <conditionLogic>and</conditionLogic>
                <conditions>
                    <leftValueReference>boolean_check_error</leftValueReference>
                    <operator>EqualTo</operator>
                    <rightValue>
                        <booleanValue>true</booleanValue>
                    </rightValue>
                </conditions>
            </visibilityRule>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>testtt</name>
        <label>testtt</label>
        <locationX>950</locationX>
        <locationY>1074</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <fields>
            <name>testwr</name>
            <fieldText>&lt;p&gt;{!C_Wr_shipments}&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;-----------------&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;{!V_translatedShip}&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>testtttt</name>
        <label>test</label>
        <locationX>1038</locationX>
        <locationY>1077</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <fields>
            <name>test</name>
            <fieldText>&lt;p&gt;{!C_SelectedFOLIS}&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>Validation</name>
        <label>Validation</label>
        <locationX>587</locationX>
        <locationY>1104</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <connector>
            <targetReference>Create_Shipments</targetReference>
        </connector>
        <fields>
            <name>Recap</name>
            <fieldText>&lt;p&gt;&lt;strong&gt;Order Summary Number : &lt;/strong&gt;{!Get_FO_Record.OrderSummary.OrderNumber}&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;Fulfillment Order Number : &lt;/strong&gt;{!Get_FO_Record.FulfillmentOrderNumber}&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <fields>
            <name>recapFOLIs</name>
            <dataTypeMappings>
                <typeName>T</typeName>
                <typeValue>Account</typeValue>
            </dataTypeMappings>
            <extensionName>c:datatable</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>isUserDefinedObject</name>
                <value>
                    <booleanValue>true</booleanValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>cb_isUserDefinedObject</name>
                <value>
                    <stringValue>CB_TRUE</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>cb_isSerializedRecordData</name>
                <value>
                    <stringValue>CB_FALSE</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>tableDataString</name>
                <value>
                    <elementReference>V_translatedShip</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>keyField</name>
                <value>
                    <stringValue>foliName</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>hideCheckboxColumn</name>
                <value>
                    <booleanValue>true</booleanValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>cb_hideCheckboxColumn</name>
                <value>
                    <stringValue>CB_TRUE</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>cb_isRequired</name>
                <value>
                    <stringValue>CB_FALSE</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>cb_singleRowSelection</name>
                <value>
                    <stringValue>CB_FALSE</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>columnLabels</name>
                <value>
                    <stringValue>FOLI Number,SKU,Quantity,Serial Numbers,Tracking Number,Dispatch Date,Delivery Method</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>columnFields</name>
                <value>
                    <stringValue>foliNumber,sku,quantity,serialNumber,tracking,dispatchDate,deliveryMethod</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>columnTypes</name>
                <value>
                    <stringValue>6:date</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>columnTypeAttribs</name>
                <value>
                    <stringValue>6:{year: 2-digit, month: numeric, day: numeric}</stringValue>
                </value>
            </inputParameters>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
        </fields>
        <nextOrFinishButtonLabel>Validate Shipment Creation</nextOrFinishButtonLabel>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <start>
        <locationX>1724</locationX>
        <locationY>295</locationY>
        <connector>
            <targetReference>Get_FO_Record</targetReference>
        </connector>
    </start>
    <status>Active</status>
    <variables>
        <name>boolean_check_error</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </variables>
    <variables>
        <name>C_FOLIids</name>
        <dataType>String</dataType>
        <isCollection>true</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>C_FOLIskuToUpdate</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>FulfillmentOrderLineItem</objectType>
    </variables>
    <variables>
        <name>C_FOLItoUpdate</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>FulfillmentOrderLineItem</objectType>
    </variables>
    <variables>
        <name>C_SelectedFOLIS</name>
        <apexClass>Wr_FOLItoShip</apexClass>
        <dataType>Apex</dataType>
        <isCollection>true</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>C_ShipTranslation</name>
        <apexClass>SOM_Wr_ShipmentTranslation</apexClass>
        <dataType>Apex</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>C_Wr_shipments</name>
        <apexClass>SOM_Wr_ShipmentShipmentItems</apexClass>
        <dataType>Apex</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>C_Wr_ShippedperFOLI</name>
        <apexClass>SOM_ShipmentPerFoliAction</apexClass>
        <dataType>Apex</dataType>
        <isCollection>true</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>currentItem_Filter_FOLI_Available_to_Ship</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>FulfillmentOrderLineItem</objectType>
    </variables>
    <variables>
        <name>currentItem_test7_0</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>FulfillmentOrderLineItem</objectType>
    </variables>
    <variables>
        <name>displaySerialNumber</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>errormessage</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <stringValue>please select an foli</stringValue>
        </value>
    </variables>
    <variables>
        <name>recordId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>V_errorSerialNumbers</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>v_FOLItoShip</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>FulfillmentOrderLineItem</objectType>
    </variables>
    <variables>
        <name>V_SelectedLinesCount</name>
        <dataType>Number</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <scale>0</scale>
    </variables>
    <variables>
        <name>V_ShipTranslation</name>
        <apexClass>SOM_Wr_ShipmentTranslation</apexClass>
        <dataType>Apex</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>V_translatedShip</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>V_Wr_Shipment</name>
        <apexClass>SOM_Wr_ShipmentShipmentItems</apexClass>
        <dataType>Apex</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
</Flow>
